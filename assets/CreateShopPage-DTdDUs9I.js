import{u as l,j as s,c as d,B as t}from"./index-D6v6Krqq.js";import{c,a as r,b,o as q}from"./index.esm-Cdk7pnt1.js";import{u as w}from"./index.esm-DiWvHfaJ.js";import{S as f}from"./Shop-BtodTjAu.js";const y=c({shopName:r().required("The shop name is required"),shopOwnerName:r().required("The shop owner name is required"),shopEmail:r().email("Please write a valid email").matches(/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/,"Please write a valid email").required("The email is required"),shopPhone:r().matches(/^[\\+]?[0-9]{12}$/,"Please write a valid phone number").min(12,"The phone number must contain a minimum of 12 characters").required("The phone number is required"),shopStreet:r().required("The name is required"),shopCity:r().required("The name is required"),shopZip:b().required("The name is required"),password:r().min(8,"The password must contain a minimum of 8 characters").required("The password is required")}),P=()=>{const i=l(),n=[{label:"Shop Name",name:"shopName",type:"text"},{label:"Shop Owner Name",name:"shopOwnerName",type:"text"},{label:"Email address",name:"shopEmail",type:"text"},{label:"Phone number",name:"shopPhone",type:"text"},{label:"Street Address",name:"shopStreet",type:"text"},{label:"City",name:"shopCity",type:"text"},{label:"Zip / Postal",name:"shopZip",type:"number"},{label:"Password",name:"password",type:"password"},{label:"Upload Logo",name:"shopLogoURL",type:"file"}],{register:m,handleSubmit:p,formState:{errors:h}}=w({mode:"onChange",resolver:q(y)});function u(a){const o=new FormData;for(const e in a)if(e==="shopLogoURL"&&a[e][0])o.append(e,a[e][0]);else if(e==="shopLogoURL"&&!a[e][0]){alert("Choose a logo for your shop");return}else o.append(e,a[e]);i(d(o)).unwrap().then(()=>{t.success("The shop has been created!")}).catch(e=>t.error(e))}return s.jsx(s.Fragment,{children:s.jsx(f,{title:"Create your Shop",inputs:n,register:m,handleSubmit:p,onSubmit:u,errors:h,buttonName:"Create account"})})};export{P as default};
